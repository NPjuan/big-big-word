# 📚 Big Big Word - Chrome 浏览器插件

将 Big Big Word 单词学习应用改造成 Chrome 浏览器插件，支持在任何网页上选中单词即可查看翻译和添加到单词本。

---

## 🎉 V5.1.0 纯中文翻译 + 优化加载 (2026-01-18)

### ✨ 核心改进

基于 V5.0 Minimal 设计，进一步优化用户体验：

- 🇨🇳 **纯中文翻译** - 移除英文释义，只显示中文翻译，减少50%内容量
- ⏳ **分阶段加载** - 区分"查询中..."和"正在翻译..."两个阶段，让用户清楚知道进度
- 🎯 **更专注** - 减少信息干扰，提高阅读效率，更适合中文用户

### 📊 对比 V5.0

| 方面         | V5.0        | V5.1   | 改进      |
| ------------ | ----------- | ------ | --------- |
| **显示内容** | 英文 + 中文 | 仅中文 | ✅ -50%   |
| **阅读时间** | ~5秒        | ~2.5秒 | ✅ -50%   |
| **加载提示** | 通用        | 分阶段 | ✅ 更清晰 |
| **信息干扰** | 有          | 无     | ✅ 更专注 |

### 🔄 加载流程

```
1. 查询中...     (0.5-1秒) → 调用 Dictionary API
2. 正在翻译...   (1-2秒)   → 调用 LibreTranslate API
3. 显示中文翻译  (完成)    → 仅显示中文释义
```

### 📚 详细文档

- [🎉 V5.1 更新说明](./UPDATE_V5.1.md) - 详细的更新内容和技术细节
- [🎨 V5.0 Minimal 设计文档](./DESIGN_V5_MINIMAL.md) - 极简设计的完整说明
- [📊 V4 vs V5 对比](./COMPARISON_V4_V5.md) - 版本对比
- [🧪 测试指南](./TESTING_GUIDE.md) - 完整的测试流程

---

## 🎉 V5.0.0 极简阅读设计 (2026-01-18)

### ✨ 专为阅读场景优化

参考 **Monica 翻译**的简洁风格，打造极简、轻量、专注内容的翻译弹窗。

- 🎨 **极简设计** - 移除所有装饰元素，纯白背景，细边框，轻阴影
- 📏 **更紧凑** - 弹窗宽度从 460px 缩减到 360px，更适合阅读场景
- ⚡ **更快速** - 动画时长从 0.5s 缩短到 0.2s，响应更迅速
- 📖 **内容优先** - 减少视觉干扰，突出翻译内容，提高阅读效率
- 🎯 **专注阅读** - 适合长时间使用，不会产生视觉疲劳

---- 适合：**阅读辅助、长时使用**

---

## ✨ 功能特性

### 🎯 核心功能

1. **选词翻译**
   - 在任何网页上选中单词
   - 自动显示翻译弹窗
   - 显示音标、词性、释义
   - 支持音频发音播放 🔊

2. **双击翻译**
   - 双击任意单词快速查看翻译
   - 自动识别单词边界
   - 无需手动选中

3. **一键添加**
   - 点击 - 点击"添加到单词本"按钮
   - 自动保存到本地存储
   - 与 Web 应用数据同步

4. **单词管理**
   - 点击插件图标查看单词列表
   - 支持手动添加单词
   - 支持删除单词
   - 显示单词统计

5. **快捷操作**
   - 右键菜单：选中单词后右键翻译
   - 键盘快捷键：`Ctrl+Shift+T` (Windows) / `Cmd+Shift+T` (Mac)
   - 快速访问单词本

---

## 📦 安装方法

### 方法一：开发者模式安装（推荐）

1. **打开 Chrome 扩展管理页面**
   - 在地址栏输入：`chrome://extensions/`
   - 或者：菜单 → 更多工具 → 扩展程序

2. **启用开发者模式**
   - 点击右上角的"开发者模式"开关

3. **加载扩展**
   - 点击"加载已解压的扩展程序"
   - 选择 `big-big-word/extension` 文件夹
   - 点击"选择文件夹"

4. **完成安装**
   - 插件图标会出现在浏览器工具栏
   - 可以固定到工具栏方便使用

### 方法二：打包安装

1. **打包扩展**

   ```bash
   # 在 Chrome 扩展管理页面
   # 点击"打包扩展程序"
   # 选择 extension 文件夹
   # 生成 .crx 文件
   ```

2. **安装 .crx 文件**
   - 将 .crx 文件拖到扩展管理页面
   - 点击"添加扩展程序"

---

## 🚀 使用指南

### 1️⃣ 选词翻译

**方式一：鼠标选择**

1. 在任何网页上选中一个英文单词
2. 等待 300ms，翻译弹窗自动出现
3. 查看音标、词性、释义
4. 点击 🔊 按钮播放发音
5. 点击4. 点击"添加到单词本"保存

**方式二：右键菜单**

1. 选中单词
2. 右键点击
3. 选择"翻译 [单词]"

**方式三：快捷键**

1. 选中单词
2. 按 `Ctrl+Shift+T` (Windows) 或 `Cmd+Shift+T` (Mac)

### 2️⃣ 管理单词本

**查看单词列表**

1. 点击浏览器工具栏的插件图标
2. 查看已保存的单词列表
3. 显示单词数量统计

**手动添加单词**

1. 点击插件图标打开弹窗
2. 在输入框输入单词
3. 点击"添加"按钮或按 Enter

**删除单词**

1. 在单词列表中找到要删除的单词
2. 点击右侧的 × 按钮
3. 确认删除

**清空单词本**

1. 点击"清空单词本"按钮
2. 确认操作（不可恢复）

### 3️⃣ 打开卡片学习

1. 点击插件图标
2. 点击"🎴 打开卡片学习"按钮
3. 跳转到 Web 应用进行卡片学习

---

## 🎨 界面预览

### 翻译弹窗

```
┌─────────────────────────────┐
│ serendipity              × │ ← 绿色渐变头部
├─────────────────────────────┤
│ /ˌserənˈdɪpɪti/      🔊   │ ← 音标 + 播放按钮
│                             │
│ noun                        │ ← 词性
│ • The occurrence of events │
│   by chance in a happy way │
│ • A fortunate discovery    │
├─────────────────────────────┤
│ [📚 添加到单词本] [🎴 打开学习] │ ← 操作按钮
└─────────────────────────────┘
```

### 单词列表弹窗

```
┌─────────────────────────────┐
│ 📚 Big Big Word             │
│ 单词数: 15                  │
├─────────────────────────────┤
│ [输入单词...] [添加]        │
├─────────────────────────────┤
│ ┌─────────────────────────┐ │
│ │ serendipity          × │ │
│ │ /ˌserənˈdɪpɪti/        │ │
│ │ noun 意外发现珍奇事物   │ │
│ └─────────────────────────┘ │
│ ┌─────────────────────────┐ │
│ │ ephemeral            × │ │
│ │ /ɪˈfemərəl/            │ │
│ │ adj. 短暂的            │ │
│ └─────────────────────────┘ │
├─────────────────────────────┤
│ [🎴 打开卡片学习]           │
│ [🗑️ 清空单词本]            │
└─────────────────────────────┘
```

---

## 🔧 技术架构

### 文件结构

```
extension/
├── manifest.json          # 插件配置（Manifest V3）
├── background.js          # 后台服务 Worker
├── content.js            # 内容脚本（注入网页）
├── content.css           # 内容脚本样式
├── lib/
│   ├── types.js          # 类型定义
│   └── api.js            # API 服务
├── popup/
│   ├── popup.html        # 弹窗页面
│   ├── popup.css         # 弹窗样式
│   └── popup.js          # 弹窗逻辑
└── icons/
    ├── icon16.png        # 16x16 图标
    ├── icon32.png        # 32x32 图标
    ├── icon48.png        # 48x48 图标
    └── icon128.png       # 128x128 图标
```

### 核心技术

- **Manifest V3**: 最新的 Chrome 扩展规范
- **Chrome Storage API**: 本地数据存储
- **Content Scripts**: 页面内容注入
- **Service Worker**: 后台服务
- **Context Menus**: 右键菜单
- **Commands API**: 键盘快捷键
- **Free Dictionary API**: 单词翻译服务

### 数据流

```
网页选词 → Content Script → Dictionary API → 显示翻译
                ↓
         Chrome Storage ← 添加单词 ← 用户点击
                ↓
         Popup 显示 ← 点击图标
```

---

## 🔄 数据同步

### 与 Web 应用同步

插件使用 `chrome.storage.local` 存储数据，Web 应用使用 `localStorage`。

**同步方案**：

1. **导出数据**（从插件到 Web 应用）

   ```javascript
   // 在 popup.js 中
   chrome.storage.local.get(['big-big-words'], (result) => {
     const data = JSON.stringify(result['big-big-words'])
     // 复制到剪贴板或下载为文件
   })
   ```

2. **导入数据**（从 Web 应用到插件）

   ```javascript
   // 在 Web 应用中
   const words = JSON.parse(localStorage.getItem('big-big-words'))
   // 通过插件 API 导入
   ```

3. **自动同步**（未来功能）
   - 使用 Chrome Sync Storage
   - 或者使用云端数据库（Firebase, Supabase）

---

## ⚙️ 配置选项

### 修改快捷键

1. 打开 `chrome://extensions/shortcuts`
2. 找到 "Big Big Word"
3. 点击编辑图标
4. 设置自定义快捷键

### 修改 Web 应用 URL

在 `popup/popup.js` 和 `content.js` 中修改：

```javascript
// popup/popup.js
const openWebApp = () => {
  chrome.tabs.create({
    url: 'https://big-big-word-pevn.vercel.app/', // 当前部署的 URL
  })
}

// content.js
// 在打开学习按钮的点击事件中
window.open('https://big-big-word-pevn.vercel.app/', '_blank')
```

### 自定义样式

修改 `content.css` 和 `popup/popup.css` 来自定义界面样式。

---

## 📝 开发说明

### 本地开发

1. **修改代码**
   - 编辑 extension 目录下的文件

2. **重新加载扩展**
   - 打开 `chrome://extensions/`
   - 点击插件的"重新加载"按钮
   - 或者按 `Ctrl+R` (Windows) / `Cmd+R` (Mac)

3. **调试**
   - **Content Script**: 在网页上右键 → 检查 → Console
   - **Popup**: 右键插件图标 → 检查弹出内容
   - **Background**: 扩展管理页面 → 服务工作进程 → 检查视图

### 添加图标

需要准备 4 个尺寸的图标：

- `icon16.png` - 16x16 像素
- `icon32.png` - 32x32 像素
- `icon48.png` - 48x48 像素
- `icon128.png` - 128x128 像素

放置在 `extension/icons/` 目录下。

**临时方案**：可以使用 emoji 或文字生成简单图标。

---

## 🐛 常见问题

### Q: 选词后没有显示翻译弹窗？

**A**: 检查以下几点：

1. 确保插件已启用
2. 刷新网页重新加载 Content Script
3. 检查是否选中了单个单词（不支持多个单词）
4. 查看浏览器控制台是否有错误

### Q: 无法添加单词？

**A**: 可能原因：

1. 网络问题，无法访问 Dictionary API
2. 单词拼写错误
3. 单词已存在于单词本中

### Q: 数据会丢失吗？

**A**:

- 数据存储在本地 Chrome Storage 中
- 卸载插件会清除数据
- 建议定期导出备份

### Q: 如何与 Web 应用同步？

**A**:

- 目前需要手动导出/导入
- 未来版本会支持自动同步

---

## 🚀 未来计划

- [ ] 添加中文翻译 API 集成
- [ ] 支持云端数据同步
- [x] 添加单词发音播放功能 ✅
- [x] 支持双击单词翻译 ✅
- [x] 快速跳转到学习网站 ✅
- [ ] 支持批量导入/导出
- [ ] 添加学习提醒功能
- [ ] 支持自定义主题
- [ ] 添加统计图表
- [ ] 支持多语言界面

---

## 📄 许可证

MIT License

---

## 🤝 贡献

欢迎提交 Issue 和 Pull Request！

---

## 📧 联系方式

如有问题或建议，请通过以下方式联系：

- GitHub Issues
- Email: your-email@example.com

---

**享受学习英语单词的乐趣！📚✨**
